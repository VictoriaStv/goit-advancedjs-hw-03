{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/js/izi-toast.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\n\nconst API_KEY = '46874564-1fa0db17c252f120a5e59742f';\nconst BASE_URL = 'https://pixabay.com/api/';\n\nexport async function fetchImages(query, page = 1) {\n  try {\n    const response = await axios.get(BASE_URL, {\n      params: {\n        key: API_KEY,\n        q: query,\n        image_type: 'photo',\n        orientation: 'horizontal',\n        safesearch: true,\n        page,\n        per_page: 12,\n      },\n    });\n    return response.data;\n  } catch (error) {\n    console.error('Error fetching images:', error);\n    throw error;\n  }\n}\n","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nlet lightbox;\n\nexport function renderGallery(images) {\n  const galleryElement = document.querySelector('.gallery');\n  galleryElement.innerHTML = images\n    .map(\n      image => `<li class=\"gallery-item\">\n  <a class=\"gallery-link\" href=\"${image.largeImageURL}\">\n    <img\n      class=\"gallery-image\"\n      src=\"${image.webformatURL}\"\n      data-source=\"${image.largeImageURL}\"\n      data-likes = \"${image.likes}\"\n      data-views = \"${image.views}\"\n      data-comments = \"${image.comments}\"\n      data-downloads = \"${image.downloads}\"\n      alt=\"${image.tags}\"\n    />\n  </a>\n  <ul class=\"stats\">\n  <li class=\"stats-item\">\n  <p  class=\"stats-item-header\">Likes</p>\n  <p class=\"stats-item-value\">${image.likes}</p>\n  </li>\n    <li class=\"stats-item\">\n  <p  class=\"stats-item-header\">Views</p>\n  <p class=\"stats-item-value\">${image.views}</p>\n  </li>\n    <li class=\"stats-item\">\n  <p class=\"stats-item-header\">Comments</p>\n  <p class=\"stats-item-value\">${image.comments}</p>\n  </li>\n    <li class=\"stats-item\">\n  <p  class=\"stats-item-header\">Downloads</p>\n  <p class=\"stats-item-value\">${image.downloads}</p>\n  </li>\n  </ul>\n</li>\n`\n    )\n    .join('');\n\n  if (!lightbox) {\n    lightbox = new SimpleLightbox('.gallery a');\n  } else {\n    lightbox.refresh();\n  }\n}\n\nexport function clearGallery() {\n  document.querySelector('.gallery').innerHTML = '';\n}\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst ERROR_COLOR = '#ef4040';\nconst SUCCESS_COLOR = '#4caf50';\nconst TOAST_TIMEOUT = 3000;\nconst TOAST_POSITION = 'topRight';\nconst icons = {\n  error: new URL('../img/error-icon.svg', import.meta.url).href,\n  fail: new URL('../img/fail-icon.svg', import.meta.url).href,\n  success: new URL('../img/success-icon.svg', import.meta.url).href,\n};\n\nexport function showToast(type, message, title = '') {\n  const color = type === 'success' ? SUCCESS_COLOR : ERROR_COLOR;\n  iziToast.show({\n    title,\n    titleColor: 'white',\n    message,\n    timeout: TOAST_TIMEOUT,\n    iconColor: 'white',\n    messageColor: 'white',\n    position: TOAST_POSITION,\n    close: false,\n    iconUrl: icons[type],\n    backgroundColor: color,\n  });\n}\n","import { fetchImages } from './js/pixabay-api';\nimport { renderGallery, clearGallery } from './js/render-functions';\nimport './css/styles.css';\nimport { showToast } from './js/izi-toast';\n\nconst form = document.querySelector('.form-container');\nconst queryInput = form.querySelector('input[name=\"query\"]');\nconst loader = document.querySelector('.downloader');\nlet currentPage = 1;\n\nform.addEventListener('submit', async event => {\n  event.preventDefault();\n  const query = queryInput.value.trim();\n\n  if (!query) {\n    showToast('error', 'Please enter a search term!', 'Error');\n    return;\n  }\n\n  clearGallery();\n  loader.style.display = 'block';\n\n  try {\n    const data = await fetchImages(query, currentPage);\n    loader.style.display = 'none';\n\n    if (data.hits.length === 0) {\n      showToast(\n        'fail',\n        'Sorry, there are no images matching your search query.',\n        'No Results'\n      );\n    } else {\n      renderGallery(data.hits);\n      showToast('success', 'Images loaded successfully!', 'Success');\n    }\n  } catch (error) {\n    loader.style.display = 'none';\n    showToast('error', 'Failed to fetch images.', 'Error');\n  }\n});\n"],"names":["API_KEY","BASE_URL","fetchImages","query","page","axios","error","lightbox","renderGallery","images","galleryElement","image","SimpleLightbox","clearGallery","ERROR_COLOR","SUCCESS_COLOR","TOAST_TIMEOUT","TOAST_POSITION","icons","showToast","type","message","title","color","iziToast","form","queryInput","loader","currentPage","event","data"],"mappings":"owBAEA,MAAMA,EAAU,qCACVC,EAAW,2BAEV,eAAeC,EAAYC,EAAOC,EAAO,EAAG,CACjD,GAAI,CAYF,OAXiB,MAAMC,EAAM,IAAIJ,EAAU,CACzC,OAAQ,CACN,IAAKD,EACL,EAAGG,EACH,WAAY,QACZ,YAAa,aACb,WAAY,GACZ,KAAAC,EACA,SAAU,EACX,CACP,CAAK,GACe,IACjB,OAAQE,EAAO,CACd,cAAQ,MAAM,yBAA0BA,CAAK,EACvCA,CACP,CACH,CCpBA,IAAIC,EAEG,SAASC,EAAcC,EAAQ,CACpC,MAAMC,EAAiB,SAAS,cAAc,UAAU,EACxDA,EAAe,UAAYD,EACxB,IACCE,GAAS;AAAA,kCACmBA,EAAM,aAAa;AAAA;AAAA;AAAA,aAGxCA,EAAM,YAAY;AAAA,qBACVA,EAAM,aAAa;AAAA,sBAClBA,EAAM,KAAK;AAAA,sBACXA,EAAM,KAAK;AAAA,yBACRA,EAAM,QAAQ;AAAA,0BACbA,EAAM,SAAS;AAAA,aAC5BA,EAAM,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gCAMSA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,gCAIXA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,gCAIXA,EAAM,QAAQ;AAAA;AAAA;AAAA;AAAA,gCAIdA,EAAM,SAAS;AAAA;AAAA;AAAA;AAAA,CAK1C,EACA,KAAK,EAAE,EAELJ,EAGHA,EAAS,QAAO,EAFhBA,EAAW,IAAIK,EAAe,YAAY,CAI9C,CAEO,SAASC,GAAe,CAC7B,SAAS,cAAc,UAAU,EAAE,UAAY,EACjD,CCnDA,MAAMC,EAAc,UACdC,EAAgB,UAChBC,EAAgB,IAChBC,EAAiB,WACjBC,EAAQ,CACZ,MAAO,IAAiD,IAAA,ssFAAA,YAAA,GAAA,EAAC,KACzD,KAAM,IAAgD,IAAA,qoCAAA,YAAA,GAAA,EAAC,KACvD,QAAS,IAAmD,IAAA,0BAAA,YAAA,GAAA,EAAC,IAC/D,EAEO,SAASC,EAAUC,EAAMC,EAASC,EAAQ,GAAI,CACnD,MAAMC,EAAQH,IAAS,UAAYL,EAAgBD,EACnDU,EAAS,KAAK,CACZ,MAAAF,EACA,WAAY,QACZ,QAAAD,EACA,QAASL,EACT,UAAW,QACX,aAAc,QACd,SAAUC,EACV,MAAO,GACP,QAASC,EAAME,CAAI,EACnB,gBAAiBG,CACrB,CAAG,CACH,CCtBA,MAAME,EAAO,SAAS,cAAc,iBAAiB,EAC/CC,EAAaD,EAAK,cAAc,qBAAqB,EACrDE,EAAS,SAAS,cAAc,aAAa,EACnD,IAAIC,EAAc,EAElBH,EAAK,iBAAiB,SAAU,MAAMI,GAAS,CAC7CA,EAAM,eAAc,EACpB,MAAM1B,EAAQuB,EAAW,MAAM,KAAI,EAEnC,GAAI,CAACvB,EAAO,CACVgB,EAAU,QAAS,8BAA+B,OAAO,EACzD,MACD,CAEDN,IACAc,EAAO,MAAM,QAAU,QAEvB,GAAI,CACF,MAAMG,EAAO,MAAM5B,EAAYC,EAAOyB,CAAW,EACjDD,EAAO,MAAM,QAAU,OAEnBG,EAAK,KAAK,SAAW,EACvBX,EACE,OACA,yDACA,YACR,GAEMX,EAAcsB,EAAK,IAAI,EACvBX,EAAU,UAAW,8BAA+B,SAAS,EAEhE,MAAe,CACdQ,EAAO,MAAM,QAAU,OACvBR,EAAU,QAAS,0BAA2B,OAAO,CACtD,CACH,CAAC"}